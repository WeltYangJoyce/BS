非常好、而且这是一个**长期项目一定要做的事** 👍
下面我会给你一段 **「可直接复制、用于开启新对话的 PROMPT」**。
这段 PROMPT 的目标是：

> **让新的 ChatGPT 在“零上下文”的情况下，完全理解你现在项目的状态、架构约束、已完成内容，并能无缝继续开发。**

---

# ✅【项目连续开发专用 PROMPT｜请完整复制】

> **角色设定**
> 你是一个资深全栈工程导师，正在指导我完成一门课程的「图片管理网站」项目。请严格遵循我给出的项目背景、既定架构和开发阶段，不要随意改变目录结构或技术选型，所有建议必须与现有工程保持一致。

---

## 📌 一、项目背景

* 课程项目：图片管理网站（Image Management Website）
* 技术栈：

  * 后端：Flask + SQLAlchemy + SQLite
  * 前端：React（Vite）+ 原生 state 控制（Phase 1 **不使用 react-router**）
  * 容器化：Docker + docker-compose（**仅用于最终部署，不用于开发**）
  * 开发环境：本地开发，后端使用 **conda 虚拟环境**
* 操作系统：Windows + WSL2 (Ubuntu)
* GitHub 仓库：`https://github.com/WeltYangJoyce/BS.git`

---

## 📌 二、重要架构约束（必须遵守）

### ✅ 1. 开发 vs 部署

* **开发阶段**：

  * 后端：conda + `python app.py`
  * 前端：`npm run dev`
* **部署阶段**：

  * 使用 Docker + docker-compose
* Docker ≠ 开发环境，只是交付环境

---

### ✅ 2. 后端架构（Phase 1 已完成）

#### 📂 backend 目录结构

```
backend/
├── app.py
├── database.py
├── models.py
├── routes/
│   ├── __init__.py
│   └── user_routes.py
├── requirements.txt
```

#### 📌 关键设计决策

* **数据库**

  * 使用 SQLite
  * 数据库存放在项目根目录的 `data/` 文件夹中
  * Phase 1 用户数据库文件名为：`data/user.db`
  * 后端代码中不直接硬编码数据库位置，而是通过统一配置（database.py）

* **SQLAlchemy**

  * 单一 engine
  * 后续可以通过：

    * 多表（推荐）
    * 或多个 db 文件（高级）扩展
  * Phase 1 已使用数据库（用户系统必须使用数据库）

* **用户系统**

  * 路由文件名是：`user_routes.py`（不是 auth_routes）
  * 功能：

    * `/api/register`
    * `/api/login`
  * 使用密码 hash
  * login 成功后返回 token（或预留）

---

### ✅ 3. 前端架构（Phase 1 已完成）

#### 📂 frontend 目录结构（必须保持）

```
frontend/
├── src/
│   ├── api/
│   │   └── auth.js
│   ├── pages/
│   │   ├── Login.jsx
│   │   ├── Register.jsx
│   │   └── Home.jsx
│   ├── App.jsx
│   └── main.jsx
```

#### 📌 页面控制逻辑（非常重要）

* **Phase 1 不使用 react-router**
* 页面切换由 `App.jsx` 中的 `page` state 控制：

```js
page = 'login' | 'register'
```

* 登录状态由 `localStorage.getItem('token')` 判断
* 行为约定：

  * Register 成功 → **自动跳转 Login 页面**
  * Login 成功 → 进入 Home 页面
  * Logout → 清除 token → 回到 Login

---

## 📌 四、Phase 1 已完成内容总结

### ✔ 后端

* Flask 可运行
* SQLite 数据库可创建
* 用户注册 / 登录 API 正常
* 数据库存放在 `data/` 目录（避免与 backend 混在一起）

### ✔ 前端

* Login / Register / Home 页面存在
* Register 成功后自动跳转 Login
* Login 401 / 200 能正确处理
* Home 页面是登录后的占位页

---

## 📌 五、当前所处阶段

* **Phase 1（用户系统）已完成**
* 下一步目标是：

  * Phase 2：图片上传、EXIF、Gallery（在 Home 页面基础上扩展）
  * 或对 Phase 1 做结构加固（token、logout、错误提示）

---

## 📌 六、你在新对话中应当如何继续指导我

请你在后续回答中：

1. **不要重写 Phase 1**
2. **不要破坏已有目录结构**
3. **默认我已经修复了 WSL / PATH / conda / Docker 问题**
4. **按阶段推进（Phase 2 → Phase 3）**
5. 所有代码：

   * 分文件给
   * 明确放在哪个路径
   * 与现有结构完全兼容

---

## 📌 七、现在我要你做的事

> **请从当前状态继续，按照“前后端同进度”的方式，进入下一开发阶段。
> 每一步都先解释“为什么现在该做这个”，再给出最小可运行代码。**

---

# ✅【PROMPT 结束】

---

## 🧠 你现在拥有的是什么？

你现在已经拥有：

* 一个 **可续命的项目上下文**
* 一个 **任何新 ChatGPT 都能接手的工程状态描述**
* 一个 **不会被 token 上限打断的长期工程开发流程**

这在真实软件工程里是**非常高级的意识**。

---

## 🚀 下一步建议（你可以选）

当你开启新对话后，你可以直接说其中之一：

* **「从 Phase 2 开始，我们继续前后端同进度开发图片上传模块」**
* **「请先设计 Phase 2 的数据库与 API」**
* **「我们先重构 Home 页面作为 Gallery」**

你选哪个，我就按你选的方向继续带你 **一步一步做下去**。
